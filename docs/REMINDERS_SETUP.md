# ‚è∞ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ø—Ä–∏–≤—ã—á–∫–∞—Ö

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–ü–æ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - `reminderTime` - –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (—Ñ–æ—Ä–º–∞—Ç: "HH:MM", –Ω–∞–ø—Ä–∏–º–µ—Ä "09:00")
   - `reminderEnabled` - –≤–∫–ª—é—á–µ–Ω–æ/–≤—ã–∫–ª—é—á–µ–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

2. **Vercel Cron Job:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ, –µ—Å–ª–∏:
     - –ù–∞—Å—Ç—É–ø–∏–ª–æ –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
     - –ü—Ä–∏–≤—ã—á–∫–∞ –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è

3. **API –ø–æ–¥–¥–µ—Ä–∂–∫–∞:**
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–∏–≤—ã—á–∫–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `reminderTime`
   - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏–≤—ã—á–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
   - –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd backend
export DATABASE_URL="postgresql://..."
npx prisma db push
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏–≤—ã—á–∫–∏

**–ß–µ—Ä–µ–∑ API (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏):**

```bash
PUT /api/habits/:id
{
  "reminderTime": "09:00",  // –í—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM
  "reminderEnabled": true   // –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
}
```

**–ü—Ä–∏–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏:**
- `"09:00"` - 9 —É—Ç—Ä–∞
- `"18:30"` - 6:30 –≤–µ—á–µ—Ä–∞
- `"21:00"` - 9 –≤–µ—á–µ—Ä–∞
- `null` - –æ—Ç–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**

```bash
# –í—ã–∑–≤–∞—Ç—å endpoint –≤—Ä—É—á–Ω—É—é
curl -X POST https://daily-bot-drab.vercel.app/api/reminders \
  -H "Authorization: Bearer YOUR_CRON_SECRET"
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- Vercel Cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å `reminderEnabled: true`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –µ—Å–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

---

## üìã –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏:

- **24-—á–∞—Å–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç:** `"HH:MM"`
- –ü—Ä–∏–º–µ—Ä—ã:
  - `"09:00"` - 9:00 —É—Ç—Ä–∞
  - `"14:30"` - 2:30 –¥–Ω—è
  - `"21:00"` - 9:00 –≤–µ—á–µ—Ä–∞
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:** UTC (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∑–∂–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel Cron:

**–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `vercel.json`:**
```json
"crons": [
  {
    "path": "/api/reminders",
    "schedule": "* * * * *"  // –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- –î–ª—è Production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∂–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 5-15 –º–∏–Ω—É—Ç)
- Cron –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º:
```bash
POST /api/habits
{
  "name": "–£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞",
  "description": "10 –º–∏–Ω—É—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π",
  "reminderTime": "07:00",
  "reminderEnabled": true
}
```

### –í–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø—Ä–∏–≤—ã—á–∫–∏:
```bash
PUT /api/habits/:id
{
  "reminderTime": "09:00",
  "reminderEnabled": true
}
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:
```bash
PUT /api/habits/:id
{
  "reminderTime": "18:00"
}
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:
```bash
PUT /api/habits/:id
{
  "reminderEnabled": false
}
```

---

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** –¥–ª—è –ø—Ä–∏–≤—ã—á–∫–∏
2. **Vercel Cron –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É:**
   - –í—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å `reminderEnabled: true`
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å `reminderTime`
3. **–ï—Å–ª–∏ –≤—Ä–µ–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –ø—Ä–∏–≤—ã—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è
   - –ï—Å–ª–∏ –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ Telegram
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   ```
   ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ!
   
   –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É: **–£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞**
   
   –°–µ–≥–æ–¥–Ω—è –µ—â—ë –µ—Å—Ç—å –≤—Ä–µ–º—è! üí™
   ```

---

## üéØ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –¥–µ–Ω—å
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- [ ] –û—Ç–ª–æ–∂–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (snooze)

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`npx prisma db push`) —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

üìñ **–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏?** 
